<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Healvia â€” Salomatlik tarixi</title>
  <style>
    body {
      font-family: "Poppins", sans-serif;
      background: linear-gradient(135deg, #f8fffe, #e8fdfd, #e3f2fd);
      color: #222;
      margin: 0;
      padding: 0;
    }
    header {
      text-align: center;
      background: #00b894;
      color: white;
      padding: 20px;
      border-bottom-left-radius: 20px;
      border-bottom-right-radius: 20px;
    }
    .container {
      max-width: 800px;
      margin: 30px auto;
      background: white;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
    }
    h2 {
      color: #00b894;
      margin-top: 0;
    }
    .profile-info {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin-bottom: 25px;
    }
    .box {
      background: #f9f9f9;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }
    .recommendation {
      background: #e8fff2;
      padding: 20px;
      border-left: 5px solid #00b894;
      border-radius: 10px;
      margin-top: 25px;
    }
    button {
      background: #00b894;
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 10px;
      font-size: 15px;
      cursor: pointer;
      transition: 0.3s;
      display: block;
      margin: 25px auto 0;
    }
    button:hover {
      background: #00916e;
    }
    footer {
      text-align: center;
      margin: 30px 0;
      color: #777;
      font-size: 13px;
    }
  </style>
</head>
<body>
  <header>
    <h1>ğŸ’Š Healvia AI â€” Salomatlik tarixi</h1>
  </header>

  <div class="container">
    <h2 id="username">ğŸ‘¤ Foydalanuvchi maâ€™lumotlari</h2>
    <div class="profile-info" id="profile-info"></div>

    <div class="box" id="bmi-box"></div>

    <div class="recommendation" id="recommendations">
      <h3>ğŸ©º AI tavsiyasi:</h3>
      <p id="advice-text">Maâ€™lumotlar yuklanmoqda...</p>
    </div>

    <button onclick="editProfile()">âœï¸ Maâ€™lumotlarni oâ€˜zgartirish</button>
  </div>

  <footer>Â© 2025 Healvia â€” Shaxsiy tibbiy yordamchi</footer>

  <script>
    // ğŸ”¹ Profilni chaqirish
    const profile = JSON.parse(localStorage.getItem("healvia_profile"));
    if (!profile) {
      alert("Avval profilni toâ€˜ldiring!");
      window.location.href = "profile.html";
    }

    document.getElementById("username").textContent = `ğŸ’š ${profile.name} â€” Salomatlik tarixi`;

    // ğŸ”¹ Maâ€™lumotlarni chiqarish
    const infoBox = document.getElementById("profile-info");
    infoBox.innerHTML = `
      <div class="box"><b>ğŸ§ Ism:</b> ${profile.name}</div>
      <div class="box"><b>ğŸ‚ Yosh:</b> ${profile.age} yosh</div>
      <div class="box"><b>ğŸš» Jins:</b> ${profile.gender}</div>
      <div class="box"><b>ğŸ“ Boâ€˜yi:</b> ${profile.height} sm</div>
      <div class="box"><b>âš–ï¸ Vazni:</b> ${profile.weight} kg</div>
      <div class="box"><b>ğŸ§¬ Kasalliklar:</b> ${profile.conditions || "Yoâ€˜q"}</div>
      <div class="box"><b>ğŸ’Š Dorilar/allergiyalar:</b> ${profile.meds || "Yoâ€˜q"}</div>
      <div class="box"><b>ğŸ¯ Maqsad:</b> ${profile.goal}</div>
    `;

    // ğŸ”¹ BMI hisoblash
    const heightM = profile.height / 100;
    const bmi = (profile.weight / (heightM * heightM)).toFixed(1);
    let bmiText = "";
    if (bmi < 18.5) bmiText = "Ortiqcha ozgâ€˜inlik";
    else if (bmi < 25) bmiText = "Sogâ€˜lom vazn";
    else if (bmi < 30) bmiText = "Ortiqcha vazn";
    else bmiText = "Semizlik";

    document.getElementById("bmi-box").innerHTML = `
      <b>ğŸ“Š BMI (Tana massasi indeksi):</b> ${bmi} â€” <i>${bmiText}</i>
    `;

    // ğŸ”¹ AI tavsiyasi
    const advice = document.getElementById("advice-text");
    if (profile.goal === "vazn") {
      advice.textContent = "Har kuni 30 daqiqa yurish va sogâ€˜lom ovqatlanish rejasiga amal qiling. Shakarli ichimliklardan saqlaning.";
    } else if (profile.goal === "uyqu") {
      advice.textContent = "Uyqu jadvalini barqaror qiling, ekran vaqtini kamaytiring va yotishdan 2 soat oldin kofe ichmang.";
    } else if (profile.goal === "stress") {
      advice.textContent = "Nafas mashqlari va meditatsiya bilan shugâ€˜ullaning. Har kuni 15 daqiqa tinchlikda oâ€˜zingizga vaqt ajrating.";
    } else {
      advice.textContent = "Sogâ€˜lom turmush tarzi uchun har kuni suv iching, harakatda boâ€˜ling va yetarli uyqu oling.";
    }

    function editProfile() {
      window.location.href = "profile.html";
    }
  </script>
</body>
</html>
