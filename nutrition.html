<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Healvia ‚Äî AI Nutrition</title>
  <style>
    :root {
      --green: #00b894;
      --blue: #0984e3;
      --yellow: #fdcb6e;
      --red: #d63031;
      --dark-bg: #1e272e;
      --light-bg: linear-gradient(180deg, #eafaf1 0%, #e8f6ff 100%);
    }
    * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Poppins', sans-serif; }
    body {
      background: var(--light-bg);
      color: #2d3436;
      min-height: 100vh;
      transition: 0.4s;
    }
    body.dark {
      background: var(--dark-bg);
      color: #ecf0f1;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 20px;
      backdrop-filter: blur(8px);
      background: rgba(255, 255, 255, 0.3);
    }
    .logo { display: flex; align-items: center; gap: 10px; }
    .logo img { width: 45px; height: 45px; border-radius: 8px; }
    .logo span { font-weight: 700; font-size: 22px; color: var(--green); }
    select, button { border: none; outline: none; cursor: pointer; }
    #langSelect {
      padding: 6px 10px;
      border-radius: 8px;
      background: rgba(255,255,255,0.4);
      font-weight: 600;
    }
    #darkToggle {
      padding: 6px 10px;
      border-radius: 8px;
      background: var(--green);
      color: #fff;
      font-weight: 600;
      margin-left: 8px;
    }
    h1 { text-align: center; margin: 25px 0; font-size: 28px; }
    .quiz {
      background: rgba(255,255,255,0.7);
      margin: 20px auto;
      border-radius: 16px;
      padding: 20px;
      text-align: center;
      max-width: 600px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    .quiz input, .quiz select {
      padding: 8px;
      margin: 5px;
      border-radius: 8px;
      border: 1px solid #ccc;
      width: 160px;
      font-size: 14px;
    }
    .btn {
      background: var(--green);
      color: #fff;
      padding: 10px 18px;
      border-radius: 10px;
      font-weight: 600;
      margin-top: 10px;
      transition: 0.3s;
    }
    .btn:hover { transform: scale(1.05); }
    .result {
      margin-top: 20px;
      background: rgba(255,255,255,0.8);
      border-radius: 14px;
      padding: 15px;
      text-align: left;
      line-height: 1.6;
      animation: fadeIn 0.6s ease;
    }
    .menu-section {
      background: rgba(255,255,255,0.8);
      border-radius: 14px;
      padding: 15px;
      margin-top: 15px;
    }
    .menu-section h3 { color: var(--blue); margin-bottom: 8px; }
    footer {
      position: fixed;
      bottom: 0;
      left: 0; right: 0;
      background: rgba(255,255,255,0.3);
      backdrop-filter: blur(8px);
      display: flex;
      justify-content: center;
      gap: 10px;
      padding: 8px;
    }
    .notice {
      background: #fff5cc;
      color: #333;
      font-weight: 600;
      border-radius: 10px;
      text-align: center;
      margin: 20px;
      padding: 10px;
      max-width: 850px;
      margin-left: auto;
      margin-right: auto;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <img src="healvia-logo.png" alt="Healvia">
      <span>Healvia</span>
    </div>
    <div>
      <select id="langSelect">
        <option value="uz">UZ</option>
        <option value="ru">RU</option>
        <option value="en">EN</option>
      </select>
      <button id="darkToggle">üåô</button>
    </div>
  </header>

  <h1 id="pageTitle">AI asosida ovqatlanish tahlili</h1>

  <div class="quiz">
    <label>Yosh:</label>
    <input type="number" id="age" placeholder="25"><br>
    <label>Vazn (kg):</label>
    <input type="number" id="weight" placeholder="70"><br>
    <label>Balandlik (sm):</label>
    <input type="number" id="height" placeholder="170"><br>
    <label>Maqsad:</label>
    <select id="goal">
      <option value="lose">Ozish</option>
      <option value="keep">Ushlab turish</option>
      <option value="gain">Vazn olish</option>
    </select><br>
    <button class="btn" onclick="analyze()">Tahlil qilish</button>

    <div id="result" class="result" style="display:none;"></div>
  </div>

  <div id="healviaNotice" class="notice"></div>

  <footer>
    <button class="btn" onclick="location.href='index.html'">üè†</button>
    <button class="btn" onclick="location.href='xizmatlar.html'">ü©∫</button>
    <button class="btn" onclick="location.href='profil.html'">üë§</button>
  </footer>

  <script>
    const translations = {
      uz:{
        pageTitle:"AI asosida ovqatlanish tahlili",
        notice:"Shifokormisiz? Bu saytda siz haqingizda ma‚Äôlumot bo‚Äòlishi mumkin. +998 (95) 975-17-47 yoki healvia_doctors@mail.ru."
      },
      ru:{
        pageTitle:"–ê–Ω–∞–ª–∏–∑ –ø–∏—Ç–∞–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ AI",
        notice:"–í—ã –≤—Ä–∞—á? –°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏: +998 (95) 975-17-47 –∏–ª–∏ healvia_doctors@mail.ru."
      },
      en:{
        pageTitle:"AI-Based Nutrition Analysis",
        notice:"Are you a doctor? Contact us: +998 (95) 975-17-47 or healvia_doctors@mail.ru."
      }
    };

    const langSelect=document.getElementById("langSelect");
    const notice=document.getElementById("healviaNotice");
    const pageTitle=document.getElementById("pageTitle");
    let lang=localStorage.getItem("lang")||"uz";
    langSelect.value=lang;

    function setLang(l){
      pageTitle.textContent=translations[l].pageTitle;
      notice.textContent=translations[l].notice;
      localStorage.setItem("lang",l);
    }
    langSelect.onchange=e=>setLang(e.target.value);
    setLang(lang);

    const darkToggle=document.getElementById("darkToggle");
    darkToggle.onclick=()=>{
      document.body.classList.toggle("dark");
      darkToggle.textContent=document.body.classList.contains("dark")?"‚òÄÔ∏è":"üåô";
    };

    function analyze(){
      const age=+document.getElementById("age").value;
      const weight=+document.getElementById("weight").value;
      const height=+document.getElementById("height").value;
      const goal=document.getElementById("goal").value;
      const result=document.getElementById("result");

      if(!age||!weight||!height){result.innerHTML="Iltimos, barcha ma‚Äôlumotlarni to‚Äòldiring.";result.style.display="block";return;}

      const bmi=(weight/((height/100)**2)).toFixed(1);
      let status="",tip="";
      if(bmi<18.5) status="Kam vazn"; else if(bmi<25) status="Normal"; else if(bmi<30) status="Ortiqcha vazn"; else status="Semizlik";

      if(goal==="lose"){
        tip="Ozish uchun past kaloriya, sabzavotli va oqsilga boy ovqatlar tavsiya qilinadi.";
      }else if(goal==="keep"){
        tip="Balansli ovqatlanish tartibini saqlang va jismoniy faollikni davom ettiring.";
      }else{
        tip="Vazn oshirish uchun kaloriya miqdorini oshiring ‚Äî yong‚Äòoq, tuxum, go‚Äòsht va sut mahsulotlari foydali.";
      }

      let advice="";
      if(status==="Kam vazn") advice="Ko‚Äòproq oqsil va kaloriya iste‚Äômol qiling. Kuniga 5-6 marta kichik porsiyada ovqatlaning.";
      if(status==="Ortiqcha vazn") advice="Sabzavotli parhezni kuchaytiring, shakarni kamaytiring.";
      if(status==="Semizlik") advice="Dietolog bilan maslahatlashish tavsiya etiladi.";
      if(status==="Normal") advice="Vazningiz me‚Äôyorda. Sog‚Äòlom turmush tarzini saqlang.";

      const menu = generateMenu(goal);
      const weekPlan = generateWeekPlan(goal);

      result.innerHTML=`
        <b>Yosh:</b> ${age} yosh<br>
        <b>Bo‚Äòyi:</b> ${height} sm<br>
        <b>Vazn:</b> ${weight} kg<br>
        <b>BMI:</b> ${bmi} (${status})<br>
        <hr>
        <b>Tavsiyalar:</b><br>${tip}<br><br>
        <b>Qo‚Äòshimcha maslahat:</b><br>${advice}
        ${menu}
        ${weekPlan}
      `;
      result.style.display="block";
    }

    function generateMenu(goal){
      const menus={
        lose:{breakfast:["Yulaf bo‚Äòtqasi","Yashil choy","Tuxum"],lunch:["Tovuq salat","Olma","Suv"],dinner:["Baliq","Sho‚Äòrva","Kefir"],snack:["Bodom"]},
        keep:{breakfast:["Tuxum","Yogurt","Qahva"],lunch:["Go‚Äòsht","Sabzavot","Non"],dinner:["Tovuq","Grechka","Kefir"],snack:["Yong‚Äòoq"]},
        gain:{breakfast:["Tuxum","Suli bo‚Äòtqasi","Sut"],lunch:["Mol go‚Äòshti","Kartoshka","Sharbat"],dinner:["Pasta","Grechka","Kefir"],snack:["Banan"]}
      };
      const m=menus[goal];
      return `
      <div class='menu-section'>
        <h3>üç≥ Kunlik menyu</h3>
        <b>Nonushta:</b> ${m.breakfast.join(", ")}<br>
        <b>Tushlik:</b> ${m.lunch.join(", ")}<br>
        <b>Kechki ovqat:</b> ${m.dinner.join(", ")}<br>
        <b>Oraliq taom:</b> ${m.snack.join(", ")}
      </div>`;
    }

    function generateWeekPlan(goal){
      const days=["Dushanba","Seshanba","Chorshanba","Payshanba","Juma","Shanba","Yakshanba"];
      let plan="<div class='menu-section'><h3>üìÖ 7 kunlik sog‚Äòlom menyu</h3>";
      for(let d of days){
        plan+=`<b>${d}:</b> ${goal==="lose"?"Ko‚Äòproq sabzavotli ovqatlar":"Balansli taomlar"}<br>`;
      }
      plan+="</div>";
      return plan;
    }
  </script>
</body>
</html>
